pipeline {
    agent any

	tools {
		maven "maven-3.5.0"
	}
	stages{
	  stage('SonarQube analysis') {
	     steps {
		//Prepare SonarQube scanner enviornment
		withSonarQubeEnv('sonarqube-7.4') {
		    sh ' \'mvn org.sonarsource.scanner.maven:sonar-maven-plugin:2.8.1:sonar\'' 
		}
	      }
	}
  stage('Execute Maven') {
		steps {
		    sh 'mvn clean package'
			}
	}
 }
   stage ('Deploy'){
  steps {
sshagent(['93a50335-83c8-4b10-913a-42e55f063a31']) {
    // some block
}
}
	}
 }
